---
layout: default
title: Poreski kalkulator
subtitle: Dnevna izdvajanja poreskog obveznika u BiH
---
<div id="dailybread">
  <div id="preloader" style="text-align: center; padding: 100px"><img src="/img/ajax-loader.gif" style="vertical-align:top" /> &nbsp;<span class="txt">loading javascript libraries</span></div>
  
  <div id="content-wrap" style="display:none">
    <div id="db-topbar" class="layout-row layout-3col-15-70-15">
      <div id="db-salary" class="layout-col layout-col-1">
        <h2>Neto plata</h2>
        <p>KM340</p>
      </div>
      
      <div id="db-slider" class="layout-col layout-col-2">
        <h2>Podesite iznos vaše plate</h2>
        <div class="wdmmg-slider"></div>
      </div>
      
      <div id="db-tax" class="layout-col layout-col-3">
        <h2>Porez</h2>
        <p>KM3000</p>
      </div>

      <div class="row">
	<div id="db-vat" style="padding-top:10px; padding-bottom:10px;" class="span3">
	  <input name="vat" type="checkbox"> Include VAT?
	</div>
      </div>
    </div><!-- /#db-topbar -->
  </div>
  
</div><!-- /#dailybread -->

  <script>
  (function () {
    var os_path = 'http://openspending.org/static/openspendingjs';

    var db_load_data = function load_data(db, data) {
      $('#content-wrap').show();
      $('#preloader').remove();
      db.setEntity('rs');
      db.setDataFromAggregator(data, ['unknown']);
      db.setIconLookup(function(name) {
        var style = OpenSpending.Styles.Cofog[name];
        if (style != undefined) {
         return '/icons/'+style['icon'];
        }
        return '/icons/unknown.svg';
      });
      db.setColorLookup(function(name) {
        var style = OpenSpending.Styles.Cofog[name];
        if (style != undefined) {
          return style.color;
        }
        return '#830242';
      });
      db.draw();
    }

    var db_init = function db_init() {
      $('#preloader .txt').html('loading data');

      var db = new OpenSpending.DailyBread($('#dailybread'));

      db.setExtraContributions( [
          {
            label: 'Pension',
            type: 'extra',
            name: '10-2-0',
            code: 'pension'
          },
          {
            label: 'Health',
            type: 'extra',
            name: '07-6-0',
            code: 'health'
          },
          {
            label: 'Unemployment',
            type: 'extra',
            name: '10-5-0',
            code: 'unemployment'
          } ]);

      new OpenSpending.Aggregator({
        apiUrl: 'http://openspending.org/api',
        dataset: 'bosnia-and-herzegovina',
        drilldowns: ['Cofog1','Cofog2','Cofog3'],
        cuts: ['year:2012', 'level:Bosna i Hercegovina', 'level:Brčko District'],
        rootNodeLabel: 'Total',
        callback: function (data) { db_load_data(db, data); }
      });
    }

    yepnope({
      load: [
        // 'http://wheredoesmymoneygo.org/wp-content/themes/wdmmg/wdmmg.css',
        'http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.6/themes/ui-lightness/jquery-ui.css',
        'http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js',
        'http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js',
        os_path + '/lib/vendor/base64.js',
        os_path + '/lib/vendor/underscore.js',
        os_path + '/lib/vendor/raphael-min.js',
        os_path + '/lib/aggregator.js',
        '/css/dailybread.css',
        '/js/libs/dailybread.cofog.js',
        '/js/libs/openspending.taxman.js',
        '/js/libs/dailybread.js',
        '/js/libs/bread.js'
      ],
      complete: function () { jQuery(function ($) { db_init() } ); }
    });

  }());
  </script>
